<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>음성 변조 서비스 - 보이스피싱 예방 센터</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="background-pattern"></div>
    
    <header class="page-header">
        <nav>
            <div class="logo">
                <h1><a href="index.html">보이스피싱 예방 센터</a></h1>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html">홈</a></li>
                <li><a href="voice-changer.html" class="active">음성 변조</a></li>
                <li><a href="url-checker.html">URL 검사</a></li>
                <li><a href="ai-chatbot.html">AI 챗봇</a></li>
            </ul>
        </nav>
    </header>

    <main class="page-content">
        <div class="container voice-dashboard">
            <div class="dashboard-header">
                <div class="header-summary">
                    <h1>피싱탐지</h1>
                    <p>통화 음성을 업로드하면 AI가 전사와 근거 분석을 수행합니다.</p>
                </div>
                <div class="header-actions">
                    <button class="btn btn-primary" id="startAnalysisBtn">분석 시작</button>
                    <button class="btn btn-ghost" id="resetAnalysisBtn">초기화</button>
                </div>
            </div>

            <div class="file-upload-card">
                <div class="upload-area" id="uploadArea">
                    <div class="upload-icon">🎤</div>
                    <h3>통화 녹음 파일 업로드</h3>
                    <p>MP3, WAV, M4A 파일을 드래그하거나 클릭하여 업로드하세요</p>
                    <input type="file" id="audioFileInput" accept="audio/*" hidden>
                    <button class="btn btn-outline" id="selectFileBtn">파일 선택</button>
                </div>
                <div class="upload-info" id="uploadInfo" style="display: none;">
                    <div class="file-details">
                        <span class="file-icon">🎵</span>
                        <div class="file-meta">
                            <div class="file-name" id="fileName">파일명.mp3</div>
                            <div class="file-size" id="fileSize">2.5 MB</div>
                        </div>
                        <button class="remove-file-btn" id="removeFileBtn">✕</button>
                    </div>
                </div>
            </div>

            <div class="analysis-status-card">
                <div class="status-row">
                    <div class="status-label">진행도</div>
                    <div class="progress-track">
                        <div class="progress-fill" id="analysisProgressBar"></div>
                    </div>
                    <div class="status-percent" id="analysisProgressPercent">0%</div>
                </div>
                <p class="status-helper">업로드한 통화 파일을 전사하고 RAG 분석을 수행합니다.</p>
            </div>

            <div class="analysis-overview">
                <div class="progress-card">
                    <div class="progress-circle" id="analysisProgressCircle" data-progress="0">
                        <div class="progress-value">0%</div>
                        <div class="progress-label" id="analysisVerdict">근거 부족</div>
                    </div>
                    <p class="progress-subtext" id="analysisSummary">증거 자료가 부족하여 판별할 수 없습니다.</p>
                </div>

                <div class="result-card result-card-full">
                    <div class="card-header">
                        <span class="card-icon">📝</span>
                        <h2>전사 결과</h2>
                    </div>
                    <textarea id="transcriptResult" class="card-textarea" placeholder="전사된 통화 내용이 여기에 표시됩니다." readonly></textarea>
                </div>
            </div>

            <div class="result-grid-bottom">
                <div class="result-card">
                    <div class="card-header">
                        <span class="card-icon">🔍</span>
                        <h2>탐지 근거</h2>
                    </div>
                    <textarea id="evidenceResult" class="card-textarea" placeholder="탐지 근거가 여기에 표시됩니다." readonly></textarea>
                </div>
                <div class="result-card">
                    <div class="card-header">
                        <span class="card-icon">🛡️</span>
                        <h2>대응 방법</h2>
                    </div>
                    <textarea id="responseGuide" class="card-textarea" placeholder="대응 가이드가 여기에 표시됩니다." readonly></textarea>
                </div>
            </div>

            <div class="quick-action-grid">
                <button class="quick-action" data-action="police">
                    <span class="action-icon">🚨</span>
                    <span class="action-title">경찰 신고</span>
                    <span class="action-subtitle">112</span>
                </button>
                <button class="quick-action" data-action="financial">
                    <span class="action-icon">🏦</span>
                    <span class="action-title">금감원 신고</span>
                    <span class="action-subtitle">1332</span>
                </button>
                <button class="quick-action" data-action="report">
                    <span class="action-icon">📄</span>
                    <span class="action-title">리포트 저장</span>
                    <span class="action-subtitle">JSON 다운로드</span>
                </button>
                <button class="quick-action" data-action="faq">
-                    <span class="action-icon">🏠</span>
-                    <span class="action-title">홈으로</span>
-                    <span class="action-subtitle">메인 페이지 이동</span>
-                </button>
+                    <span class="action-icon">📞</span>
+                    <span class="action-title">상담 연결</span>
+                    <span class="action-subtitle">전문상담원 배정</span>
+                </button>
            </div>

            <div class="action-buttons">
                <a href="voicephishing-info.html" class="btn btn-secondary">보이스피싱 사례집</a>
                <a href="index.html" class="btn btn-outline">홈으로 돌아가기</a>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 보이스피싱 예방 센터. 모든 권리 보유.</p>
        </div>
    </footer>

    <script src="/static/voice-changer.js"></script>
</body>
</html>